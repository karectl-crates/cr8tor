# cr8tor-operator Helm chart values

image:
  registry: ghcr.io
  repository: karectl-crates/cr8tor-operator
  tag: ""
  pullPolicy: IfNotPresent

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""
replicaCount: 1

# Service and RBAC settings
serviceAccount:
  create: true
  name: ""
  annotations: {}
rbac:
  create: true

# Operator Config
config:
  logLevel: "INFO"
  workerLimit: "5"
  postingEnabled: "false"
  serverTimeout: "60"
  manageCrds: "true"
  generateCrdFiles: "false"

# Services configuration
# Single ConfigMap for all external services
servicesConfigMapName: "cr8tor-operator-services-config"

# Keycloak Config
keycloak:
  # Secret containing admin credentials
  adminSecretName: "keycloak-admin-credentials"

# Identity namespace where User/Group CRDs are stored
identity:
  namespace: "keycloak"

# Resource limits and requests
resources:
  requests:
    cpu: "100m"
    memory: "128Mi"
  limits:
    cpu: "500m"
    memory: "512Mi"

# Node/Affinity Settings
nodeSelector: {}
tolerations: []
affinity: {}

# Pod & Security Settings
podAnnotations: {}
podLabels: {}
podSecurityContext:
  runAsNonRoot: true
securityContext:
  allowPrivilegeEscalation: false
  readOnlyRootFilesystem: false
  capabilities:
    drop:
      - ALL

# VDI templates ConfigMap
# Set to false if you want to manage templates separately
vdiTemplates:
  enabled: true

# Storage configuration for workspaces (VDI/notebooks)
# These act as cluster-level defaults and caps
storage:
  # Default storage class, leave empty to use cluster default StorageClass
  defaultStorageClass: ""
  # Default VDI size (used if Project CRD doesn't specify)
  defaultVdiSize: ""
  # Default notebook size (used if Project CRD doesn't specify)
  defaultNotebookSize: ""

  # Maximum VDI size (leave empty for no cap, Project CRD values are then respected)
  maxVdiSize: ""
  # Maximum notebook size (leave empty for no cap, Project CRD values are then respected)
  maxNotebookSize: ""
  # Default persist behavior (false = delete PVC on VDI delete)
  defaultPersist: false

# Project Sync Plugin Configuration
projectSync:
  # Default quota tier (small/medium/large)
  defaultQuotaTier: medium
  # Target namespace for CRDs
  targetNamespace: keycloak

# Gitea integration configuration
# Enables organisation/team provisioning
gitea:
  # Set to true to enable Gitea integration
  enabled: false
  # Secret for gitea admin API token
  adminSecretName: "gitea-api-credentials"
